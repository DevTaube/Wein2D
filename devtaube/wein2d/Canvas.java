package wein2d;

import wein2d.renderedobjects.*;

import java.awt.*;
import javax.swing.*;
import java.util.ArrayList;

class Canvas extends JPanel
{
    // Variables ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    // References
    protected ArrayList<RenderedObject> renderedObjects = new ArrayList<>();
    // Primitive
    protected int sizeX;
    protected int sizeY;
    // Constructors ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    Canvas(int givenSizeX, int givenSizeY)
    {
        sizeX = givenSizeX;
        sizeY = givenSizeY;
    }
    // Override: Get Preferred Size ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    @Override
    public Dimension getPreferredSize()
    {
      return new Dimension(sizeX, sizeY);
    }
    // Override: paintComponent ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    @Override
    public void paintComponent(Graphics givenG)
    {
        // get Graphics2D
        Graphics2D g = (Graphics2D) givenG;
        // loop through the list of rendered objects and draw it
        for (int renderedObject = 0; renderedObject < renderedObjects.size(); renderedObject++)
        {
            if(renderedObjects.get(renderedObject) != null)
                renderedObjects.get(renderedObject).draw(g, sizeX, sizeY);
        }
        // clear list of rendered objects
        renderedObjects.clear();
    }
}
